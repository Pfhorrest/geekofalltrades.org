<!-- Preference setter has to load ASAP to prevent FOUC -->
<script>
  try {
    const colorScheme = localStorage.getItem("color-scheme");
    if (colorScheme) document.documentElement.dataset.colorScheme = colorScheme;

    const theme = localStorage.getItem("theme");
    if (theme) document.documentElement.dataset.theme = theme;

    const reducedMotion = localStorage.getItem("reduced-motion");
    if (reducedMotion) document.documentElement.dataset.reducedMotion = reducedMotion;
  } catch (e) {}
</script>
